<!-- Floating contact/chat widget (ISNTTHATMOMO style) -->
<style>
  .mn-chat-launcher{position:fixed;right:18px;bottom:18px;width:58px;height:58px;border-radius:50%;
    background:#d4843b;color:#fff;display:grid;place-items:center;cursor:pointer;box-shadow:0 6px 16px rgba(0,0,0,.25);z-index:99999;font-size:24px;font-weight:bold}
  .mn-chat-panel{position:fixed;right:18px;bottom:86px;width:340px;max-width:92vw;background:#fff;border-radius:14px;box-shadow:0 12px 32px rgba(0,0,0,.25);display:none;flex-direction:column;overflow:hidden;z-index:99999;font-family:'Poppins',system-ui}
  .mn-chat-header{padding:14px;background:#d4843b;color:#fff;font:600 15px/1.2 'Poppins',sans-serif;letter-spacing:.5px;text-transform:uppercase}
  .mn-chat-body{padding:16px;background:#f9f9f9;color:#111}
  .mn-msg{background:#fff;border:1px solid #eee;border-radius:12px;padding:12px 14px;font:15px/1.5 'Poppins',sans-serif;margin:6px 0;color:#111;box-shadow:0 2px 4px rgba(0,0,0,.05)}
  .mn-input{display:flex;gap:8px;margin-top:10px}
  .mn-input input{flex:1;border:1px solid #ddd;border-radius:10px;padding:10px 12px;font:14px 'Poppins',sans-serif}
  .mn-input button{border:0;background:#111;color:#fff;border-radius:10px;padding:10px 14px;font:14px 'Poppins',sans-serif;cursor:pointer}
</style>

<div class="mn-chat-launcher" id="mnChatOpen" aria-label="Open chat">ðŸ’¬</div>
<div class="mn-chat-panel" id="mnChatPanel" role="dialog" aria-label="Website chat">
  <div class="mn-chat-header">Chat with us</div>
  <div class="mn-chat-body" id="mnChatBody">
    <div class="mn-msg">Ask about our services or packages. I answer using our site, and will share quick links to WhatsApp or our intake form.</div>
    <div class="mn-input">
      <input id="mnChatInput" placeholder="Type your questionâ€¦" />
      <button id="mnChatSend">Send</button>
    </div>
  </div>
</div>

<script>
(() => {
  const API_URL = "https://YOUR-DEPLOYMENT.example.com/api/chat"; // <- update after deploy
  const openBtn = document.getElementById('mnChatOpen');
  const panel = document.getElementById('mnChatPanel');
  const body = document.getElementById('mnChatBody');
  const input = document.getElementById('mnChatInput');
  const sendBtn = document.getElementById('mnChatSend');

  function toggle(){ panel.style.display = (panel.style.display==='flex')?'none':'flex'; if(panel.style.display==='flex') input.focus(); }
  openBtn.addEventListener('click', toggle);

  function addMsg(txt, who='bot'){
    const d=document.createElement('div'); d.className='mn-msg'; d.textContent=txt;
    if(who==='user'){ d.style.background='#111'; d.style.color='#fff'; d.style.border='none'; }
    body.insertBefore(d, body.querySelector('.mn-input'));
    body.scrollTop = body.scrollHeight;
  }

  async function send(){
    const text = input.value.trim(); if(!text) return;
    addMsg(text, 'user'); input.value='';
    try{
      const res = await fetch(API_URL, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ message: text }) });
      const data = await res.json();
      addMsg(data.reply || 'Sorry, something went wrong.');
    }catch(e){ addMsg('Network error. Please try again.'); }
  }
  sendBtn.addEventListener('click', send);
  input.addEventListener('keydown', e => { if(e.key==='Enter') send(); });
})();
</script>
